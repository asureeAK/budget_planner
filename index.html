<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Budget Planner — 50/30/20</title>

  <!-- Stylesheet -->
  <link rel="stylesheet" href="style.css" />

  <!-- SheetJS (XLSX) for Excel export -->
  <!-- If you want fully offline use: download xlsx.full.min.js and reference locally -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

  <!-- jsPDF + autotable for PDF export -->
  <!-- If you want fully offline use: download these and reference locally -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <main class="app">
    <header class="app-header">
      <h1>Budget Planner</h1>
      <p class="muted">Default 50/30/20 rule — drag sliders or type to customize. Add expenses, then export.</p>
    </header>

    <section class="controls">
      <div class="card">
        <label for="income">Monthly Income (₹)</label>
        <input id="income" type="number" min="0" value="50000" />

        <div class="percent-grid">
          <div class="percent-card">
            <label>Needs (%)</label>
            <input id="needsRange" type="range" min="0" max="100" step="1" value="50" />
            <input id="needsNum" type="number" min="0" max="100" value="50" />
          </div>
          <div class="percent-card">
            <label>Wants (%)</label>
            <input id="wantsRange" type="range" min="0" max="100" step="1" value="30" />
            <input id="wantsNum" type="number" min="0" max="100" value="30" />
          </div>
          <div class="percent-card">
            <label>Savings (%)</label>
            <input id="savingsRange" type="range" min="0" max="100" step="1" value="20" />
            <input id="savingsNum" type="number" min="0" max="100" value="20" />
          </div>
        </div>

        <div class="percent-sum">
          <small>Total: <span id="percentTotal">100</span>%</small>
        </div>
      </div>

      <div class="card add-expense">
        <h3>Add Expense</h3>
        <form id="expenseForm">
          <div class="row">
            <input id="expAmount" type="number" placeholder="Amount (₹)" min="0" required />
            <select id="expCategory" required>
              <option value="Needs">Needs</option>
              <option value="Wants">Wants</option>
              <option value="Savings">Savings</option>
            </select>
          </div>
          <div class="row">
            <input id="expDesc" type="text" placeholder="Description (optional)" />
            <input id="expDate" type="date" />
          </div>
          <div class="row actions">
            <button type="submit" class="btn">Add Expense</button>
            <button type="button" id="clearExpenses" class="btn ghost">Clear All</button>
          </div>
        </form>
      </div>
    </section>

    <section class="panels">
      <div class="card summary">
        <h3>Summary</h3>
        <div class="summary-grid">
          <div>
            <strong>Income</strong>
            <div>₹ <span id="incomeDisplay">50000</span></div>
          </div>
          <div>
            <strong>Target Needs</strong>
            <div>₹ <span id="targetNeeds">25000</span></div>
          </div>
          <div>
            <strong>Target Wants</strong>
            <div>₹ <span id="targetWants">15000</span></div>
          </div>
          <div>
            <strong>Target Savings</strong>
            <div>₹ <span id="targetSavings">10000</span></div>
          </div>
        </div>

        <div class="progress-list">
          <div class="progress-row">
            <label>Needs <small id="needsStatus" class="status muted"></small></label>
            <div class="progress">
              <div id="barNeeds" class="bar needs"></div>
            </div>
            <div class="amounts">₹ <span id="needsTotal">0</span> / <small id="needsTargetLabel">0</small></div>
          </div>

          <div class="progress-row">
            <label>Wants <small id="wantsStatus" class="status muted"></small></label>
            <div class="progress">
              <div id="barWants" class="bar wants"></div>
            </div>
            <div class="amounts">₹ <span id="wantsTotal">0</span> / <small id="wantsTargetLabel">0</small></div>
          </div>

          <div class="progress-row">
            <label>Savings <small id="savingsStatus" class="status muted"></small></label>
            <div class="progress">
              <div id="barSavings" class="bar savings"></div>
            </div>
            <div class="amounts">₹ <span id="savingsTotal">0</span> / <small id="savingsTargetLabel">0</small></div>
          </div>
        </div>

        <div id="feedback" class="feedback muted"></div>
      </div>

      <div class="card table-card">
        <div class="table-head">
          <h3>Expenses</h3>
          <div class="export-buttons">
            <button id="exportTxt" class="btn ghost">Export TXT</button>
            <button id="exportPdf" class="btn ghost">Export PDF</button>
            <button id="exportXlsx" class="btn">Export Excel</button>
          </div>
        </div>

        <table id="expensesTable" class="expenses-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Amount (₹)</th>
              <th>Category</th>
              <th>Description</th>
              <th>Date</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>

      </div>
    </section>
    <footer class="foot muted">
      <small>Tip: To host on GitHub Pages, push these three files to your repo and enable Pages from the main branch.</small>
    </footer>
  </main>

  <!-- Main JS -->
  <script src="script.js"></script>
</body>
</html>
